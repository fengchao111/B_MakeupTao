webpackJsonp([8,21],{Kger:function(e,t){},VMz3:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("mvHQ"),n=a.n(r),s=a("f0X5"),o={components:{Paypic:a("xIZV").default},name:"orderpay",data:function(){return{index:"",seen:!1,num:"2",shows:!1,att:[],payorders:[],pay_order_id:""}},methods:{see:function(){for(var e=document.getElementsByClassName("selectH"),t=0;t<e.length;t++){if(!0===e[t].checked){this.seen=!0;break}this.seen=!1}},del:function(e,t){if(confirm("确认取消?")){var a={};a[0]=t,this.payorders.splice(e,1);var r=new XMLHttpRequest;r.open("post","cancleOrder.htm",!0),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.send("cancle_order_id="+n()(a)),r.onreadystatechange=function(){4===r.readyState&&200===r.status?alert("一个订单已取消"):console.log("error")}}},pay:function(e,t){if(confirm("确认付款?")){this.shows=!this.shows,this.$nextTick(function(){var e=document.getElementsByClassName("money")[0];console.log(e.innerHTML),s.a.$emit("sendPri",parseFloat(e.innerHTML))});var a={};a[0]=t,this.payorders.splice(e,1);var r=new XMLHttpRequest;r.open("post","sureOrder.htm",!0),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.send("sure_order_id="+n()(a)),r.onreadystatechange=function(){4===r.readyState&&200===r.status?alert("一个订单已确认付款"):console.log("error")}}},adddel:function(){var e=document.getElementsByClassName("selectH"),t=document.getElementsByClassName("orderpaybox");if(confirm("确认取消?")){for(var a={},r=0;r<e.length;r++)!0===e[r].checked&&(t[r].style.display="none",a[r]=this.payorders[r].order_id);var s=new XMLHttpRequest;s.open("post","cancleOrder.htm",!0),s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.send("cancle_order_id="+n()(a)),s.onreadystatechange=function(){4===s.readyState&&200===s.status?alert("多个订单已取消"):console.log("error")}}},addpay:function(){var e=document.getElementsByClassName("selectH"),t=document.getElementsByClassName("orderpaybox");if(confirm("确认付款?")){this.shows=!this.shows;for(var a=document.getElementsByClassName("money"),r=0,n=0;n<e.length;n++)!0===e[n].checked&&(t[n].style.display="none",r+=parseFloat(a[n].innerHTML));this.$nextTick(function(){console.log(r),s.a.$emit("sendPri",parseFloat(r))}),this.show=!this.show}},waitpay:function(e){this.$router.push({path:"/paydetail"});var t=new XMLHttpRequest;t.onreadystatechange=function(){4===t.readyState&&200===t.status?s.a.$emit("orderpay",JSON.parse(t.responseText)):console.log("error")},t.open("post","orderDetails.htm",!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send("order_id="+e)},detial:function(e){},price:function(){var e=this,t=new XMLHttpRequest;t.open("post","someOrder.htm",!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send("user_id=1&user_sex=1"),t.onreadystatechange=function(){4===t.readyState&&200===t.status?e.payorders=JSON.parse(JSON.parse(t.responseText)):console.log("error")}}},mounted:function(){this.price()}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"orderpay"}},[e._l(e.payorders,function(t,r){return a("div",{key:t.order_id,staticClass:"orderpaybox"},[a("p",{staticClass:"shoppay"},[a("span",[a("input",{staticClass:"selectH",attrs:{type:"checkbox"},on:{click:function(t){e.see()}}}),e._v(" 美妆品牌店 ＞")]),a("span",[e._v("等待买家付款")])]),e._v(" "),e._l(t.pro_shops,function(r){return a("div",{key:r.pro_shop_orders.pro_shop_order_id,staticClass:"boxpay"},[a("div",{staticClass:"imgboxpay clearfix",on:{click:function(a){e.waitpay(t.order_id)}}},[a("img",{attrs:{src:r.pro_shop_pic}}),e._v(" "),a("p",{attrs:{id:"decrisptpay"}},[e._v(e._s(r.pro_shop_desc))]),e._v(" "),a("div",{attrs:{id:"pricepay"}},[a("span",[e._v("￥"+e._s(r.pro_shop_orders.pro_shop_order_price))]),e._v(" "),a("span",[e._v("￥"+e._s(r.pro_shop_orders.pro_shop_order_oldprice))]),e._v(" "),a("span",[e._v("x"+e._s(r.pro_shop_orders.pro_shop_order_number))])])])])}),e._v(" "),a("div",{attrs:{id:"okendpay"}},[a("p",{attrs:{id:"resultendpay"}},[a("span",[e._v("共"+e._s(e.num)+"件商品")]),e._v(" "),a("span",[e._v("合计：￥"),a("span",{staticClass:"money"},[e._v(e._s(t.order_money))]),e._v("(含运费 ￥"+e._s(0)+")")])]),e._v(" "),a("p",{attrs:{id:"focendpay"}},[a("input",{attrs:{type:"button",value:"联系卖家"}}),e._v(" "),a("input",{attrs:{type:"button",value:"取消订单"},on:{click:function(a){e.del(r,t.order_id)}}}),e._v(" "),a("input",{attrs:{type:"button",value:"付款"},on:{click:function(a){e.pay(r,t.order_id)}}})])])],2)}),e._v(" "),e.seen?a("div",{attrs:{id:"footer"}},[a("input",{attrs:{type:"button",value:"取消订单"},on:{click:function(t){e.adddel()}}}),e._v(" "),a("input",{attrs:{type:"button",value:"合并付款"},on:{click:function(t){e.addpay()}}})]):e._e(),e._v(" "),e.shows?a("paypic"):e._e()],2)},staticRenderFns:[]};var d=a("VU/8")(o,i,!1,function(e){a("Kger")},"data-v-2fd2bc4d",null);t.default=d.exports},g7mL:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("i295"),n=a("VMz3"),s={name:"pays",data:function(){return{}},components:{orderbanner:r.default,orderpay:n.default},methods:{waitpay:function(e,t){switch(e){case"msg":this.$router.push({path:"/allmsg"});break;case"get":this.$router.push({path:"/allget"});break;case"pay":this.$router.push({path:"/allpay"});break;case"end":this.$router.push({path:"/allend"});break;case"all":this.$router.push({path:"/allall"})}}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"pay"}},[a("orderbanner"),e._v(" "),a("div",{attrs:{id:"ordernav"}},[a("div",{attrs:{id:"ordernav1"}},[a("ul",{attrs:{id:"nav1"}},[a("li",[a("a",{on:{click:function(t){e.waitpay("all",0)}}},[e._v("全部")])]),e._v(" "),a("li",[a("a",{on:{click:function(t){e.waitpay("pay",1)}}},[e._v("待付款")])]),e._v(" "),a("li",[a("a",{on:{click:function(t){e.waitpay("get",2)}}},[e._v("待收货")])]),e._v(" "),a("li",[a("a",{on:{click:function(t){e.waitpay("msg",3)}}},[e._v("待评价")])]),e._v(" "),a("li",[a("a",{on:{click:function(t){e.waitpay("end",4)}}},[e._v("已完成")])])])])]),e._v(" "),a("orderpay")],1)},staticRenderFns:[]};var i=a("VU/8")(s,o,!1,function(e){a("jI5V")},"data-v-6f83adb2",null);t.default=i.exports},jI5V:function(e,t){}});
//# sourceMappingURL=8.81891b8ff1851bfe5c64.js.map