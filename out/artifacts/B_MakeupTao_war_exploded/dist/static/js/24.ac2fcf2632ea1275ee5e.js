webpackJsonp([24],{VMz3:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s("mvHQ"),o=s.n(r),n=s("f0X5"),a={components:{Paypic:s("xIZV").default},name:"orderpay",data:function(){return{index:"",seen:!1,num:"2",shows:!1,att:[],payorders:[],pay_order_id:""}},methods:{see:function(){for(var e=document.getElementsByClassName("selectH"),t=0;t<e.length;t++){if(!0===e[t].checked){this.seen=!0;break}this.seen=!1}},del:function(e,t){if(confirm("确认取消?")){var s={};s[0]=t,this.payorders.splice(e,1);var r=new XMLHttpRequest;r.open("post","cancleOrder.htm",!0),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.send("cancle_order_id="+o()(s)),r.onreadystatechange=function(){4===r.readyState&&200===r.status?alert("一个订单已取消"):console.log("error")}}},pay:function(e,t){if(confirm("确认付款?")){this.shows=!this.shows,this.$nextTick(function(){var e=document.getElementsByClassName("money")[0];console.log(e.innerHTML),n.a.$emit("sendPri",parseFloat(e.innerHTML))});var s={};s[0]=t,this.payorders.splice(e,1);var r=new XMLHttpRequest;r.open("post","sureOrder.htm",!0),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.send("sure_order_id="+o()(s)),r.onreadystatechange=function(){4===r.readyState&&200===r.status?alert("一个订单已确认付款"):console.log("error")}}},adddel:function(){var e=document.getElementsByClassName("selectH"),t=document.getElementsByClassName("orderpaybox");if(confirm("确认取消?")){for(var s={},r=0;r<e.length;r++)!0===e[r].checked&&(t[r].style.display="none",s[r]=this.payorders[r].order_id);var n=new XMLHttpRequest;n.open("post","cancleOrder.htm",!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send("cancle_order_id="+o()(s)),n.onreadystatechange=function(){4===n.readyState&&200===n.status?alert("多个订单已取消"):console.log("error")}}},addpay:function(){var e=document.getElementsByClassName("selectH"),t=document.getElementsByClassName("orderpaybox");if(confirm("确认付款?")){this.shows=!this.shows;for(var s=document.getElementsByClassName("money"),r=0,o=0;o<e.length;o++)!0===e[o].checked&&(t[o].style.display="none",r+=parseFloat(s[o].innerHTML));this.$nextTick(function(){console.log(r),n.a.$emit("sendPri",parseFloat(r))}),this.show=!this.show}},waitpay:function(e){this.$router.push({path:"/paydetail?user_id="+this.$route.query.user_id});var t=new XMLHttpRequest;t.onreadystatechange=function(){4===t.readyState&&200===t.status?n.a.$emit("orderpay",JSON.parse(t.responseText)):console.log("error")},t.open("post","orderDetails.htm",!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send("order_id="+e)},detial:function(e){},price:function(){var e=this,t=new XMLHttpRequest;t.open("post","someOrder.htm",!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send("user_id=1&user_sex=1"),t.onreadystatechange=function(){4===t.readyState&&200===t.status?e.payorders=JSON.parse(JSON.parse(t.responseText)):console.log("error")}}},mounted:function(){this.price()}},i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"orderpay"}},[e._l(e.payorders,function(t,r){return s("div",{key:t.order_id,staticClass:"orderpaybox"},[s("p",{staticClass:"shoppay"},[s("span",[s("input",{staticClass:"selectH",attrs:{type:"checkbox"},on:{click:function(t){e.see()}}}),e._v(" 美妆品牌店 ＞")]),s("span",[e._v("等待买家付款")])]),e._v(" "),e._l(t.pro_shops,function(r){return s("div",{key:r.pro_shop_orders.pro_shop_order_id,staticClass:"boxpay"},[s("div",{staticClass:"imgboxpay clearfix",on:{click:function(s){e.waitpay(t.order_id)}}},[s("img",{attrs:{src:r.pro_shop_pic}}),e._v(" "),s("p",{attrs:{id:"decrisptpay"}},[e._v(e._s(r.pro_shop_desc))]),e._v(" "),s("div",{attrs:{id:"pricepay"}},[s("span",[e._v("￥"+e._s(r.pro_shop_orders.pro_shop_order_price))]),e._v(" "),s("span",[e._v("￥"+e._s(r.pro_shop_orders.pro_shop_order_oldprice))]),e._v(" "),s("span",[e._v("x"+e._s(r.pro_shop_orders.pro_shop_order_number))])])])])}),e._v(" "),s("div",{attrs:{id:"okendpay"}},[s("p",{attrs:{id:"resultendpay"}},[s("span",[e._v("共"+e._s(e.num)+"件商品")]),e._v(" "),s("span",[e._v("合计：￥"),s("span",{staticClass:"money"},[e._v(e._s(t.order_money))]),e._v("(含运费 ￥"+e._s(0)+")")])]),e._v(" "),s("p",{attrs:{id:"focendpay"}},[s("input",{attrs:{type:"button",value:"联系卖家"}}),e._v(" "),s("input",{attrs:{type:"button",value:"取消订单"},on:{click:function(s){e.del(r,t.order_id)}}}),e._v(" "),s("input",{attrs:{type:"button",value:"付款"},on:{click:function(s){e.pay(r,t.order_id)}}})])])],2)}),e._v(" "),e.seen?s("div",{attrs:{id:"footer"}},[s("input",{attrs:{type:"button",value:"取消订单"},on:{click:function(t){e.adddel()}}}),e._v(" "),s("input",{attrs:{type:"button",value:"合并付款"},on:{click:function(t){e.addpay()}}})]):e._e(),e._v(" "),e.shows?s("paypic"):e._e()],2)},staticRenderFns:[]};var d=s("VU/8")(a,i,!1,function(e){s("i8n9")},"data-v-4702308c",null);t.default=d.exports},i8n9:function(e,t){}});
//# sourceMappingURL=24.ac2fcf2632ea1275ee5e.js.map